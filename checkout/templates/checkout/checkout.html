{% extends 'base.html' %}
{% load static %}

{% block extra_title %}
Checkout
{% endblock %}

{% block content %}
 <div class="container">
     <div class="row">
         <div class="col">
            <h1 class="display-2 text-center">Checkout</h1>
         </div>
     </div>
     <div class="row">
         <div class="col">
             <h1 class="text-center display-5 mb-3">Summary</h1>
         </div>
     </div>
     <div class="row">
        <div class="col">
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th scope="col">#</th>
                        <th scope="col">Title</th>
                        <th scope="col">Size</th>
                        <th scope="col">Quantity</th>
                        <th scope="col">Item Price</th>
                        <th scope="col">Item Total</th>
                    </tr>
                </thead>
                {% for item in items %}
                    <tr>
                        <th scope="row">
                            {{ forloop.counter }}
                        </th>
                        <td>
                            {{ item.product.title|title }}
                        </td>
                        <td>
                            {% if item.size %}
                                {{ item.size }}
                            {% else %}
                                N/a
                            {% endif %}
                        </td>
                        <td>
                            {{ item.quantity }}
                        </td>
                        <td>
                            {{ item.price }}
                        </td>
                        <td>
                            {{ item.product_total }}
                        </td>
                    </tr>
                {% endfor %}
            </table>
        </div>
     </div>
     <div class="row">
         <div class="col text-center">
            <a class="btn btn-info" href="">Edit bag</a>
         </div>
     </div>
     <div class="row mt-4">
         <div class="col text-center">
            <h3>Address Details</h3>
         </div>
     </div>
     <div class="row mt-4">
        <div class="col">
            <form method="POST" action="">
                {% csrf_token %}
                <div class="mb-3">
                    <label class="form-label" for="address_1">Address Line 1:</label>
                    <input required aria-required="true" class="form-control" name="address_1" type="text">
                </div>
                <div class="mb-3">
                    <label for="address_2">Address Line 2 (optional):</label>
                    <input class="form-control" name="address_2" type="text">
                </div>
                <div class="mb-3">
                    <label for="email">Email Address:</label>
                    <input class="form-control" required aria-required="true" type="email" name="email" value="{{ user.email }}">
                </div>
                <div class="mb-3">
                    <label for="post_code">Post Code:</label>
                    <input class="form-control" required aria-required="true" type="text" name="post_code">
                </div>
                <div class="mb-3">
                    <input type="submit" value="Submit">
                </div>
            </form>
        </div>
     </div>
     <div class="row mt-4">
        <div class="col">
            <div class="button-group">
                {% if user.is_authenticated %}
                    <a class="btn btn-primary" href="">Proceed with checkout</a>
                {% else %}
                    <a class="btn btn-primary" href="">Checkout as guest</a>
                    <a class="btn btn-primary" href="{% url 'account_login' %}">Login</a>
                {% endif %}
            </div>
        </div>
     </div>
 </div>
{% endblock %}